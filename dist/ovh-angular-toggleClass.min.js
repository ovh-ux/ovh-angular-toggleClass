/*! ovh-angular-toggleclass - 1.2.1 - 2018-08-03 */
angular.module("ovh-angular-toggleClass",[]),angular.module("ovh-angular-toggleClass").directive("toggleClass",["$rootScope",function(a){"use strict";var b={};return{template:'<button type="button" data-ng-click = "openCloseToggle()" ng-transclude></button>',transclude:!0,restrict:"EA",scope:{toggleClassGroup:"@",toggleClassSlide:"@",toggleClassTarget:"@",toggleClassTargetItem:"=",toggleClassTargetBackdrop:"@",toggleClassName:"@",toggleClassTriggerClose:"@",toggleClassTriggerOpenCloseEvent:"=",toggleClassClick:"&"},link:function(c,d){function e(){return c.toggleClassTargetItem?c.toggleClassTargetItem:c.toggleClassTarget?$(c.toggleClassTarget):d.next()}function f(){return c.toggleClassTarget&&c.toggleClassName?c.toggleClassName+c.toggleClassTarget.replace(/#/g,"-"):null}function g(){c.toggleClassName&&(e().removeClass(c.toggleClassName),d.removeClass(c.toggleClassName)),c.toggleClassSlide&&e().slideUp("fast"),c.toggleClassTargetBackdrop&&f()&&$(c.toggleClassTargetBackdrop).removeClass(f())}var h=c.toggleClassTriggerOpenCloseEvent,i="ovh-angular-toggleClassCloseEvent";c.toggleClassClick&&d.find("button").on({click:function(){c.toggleClassClick()}}),c.toggleClassTriggerClose&&$(document).on("click tap touchstart",c.toggleClassTriggerClose,function(){c.toggleClassName&&(e().removeClass(c.toggleClassName),d.removeClass(c.toggleClassName)),c.toggleClassSlide&&e().slideUp("fast"),c.toggleClassTargetBackdrop&&f()&&$(c.toggleClassTargetBackdrop).removeClass(f())}),h&&"string"==typeof h&&!b[h]&&(b[h]=!0,c.$on(h,function(){c.openCloseToggle()})),c.$on(i,function(){g()}),c.$on("ovh-angular-toggleClass.close",function(a,b,g){b&&b===c.toggleClassGroup&&g!==c.$id&&(c.toggleClassName&&e().removeClass(c.toggleClassName),c.toggleClassSlide?$(window).width()<800&&(e().slideUp("fast"),d.removeClass(c.toggleClassName)):c.toggleClassName&&d.removeClass(c.toggleClassName),c.toggleClassTargetBackdrop&&f()&&$(c.toggleClassTargetBackdrop).removeClass(f()))}),c.openCloseToggle=function(){a.$broadcast("ovh-angular-toggleClass.close",c.toggleClassGroup,c.$id),c.toggleClassName&&(e().toggleClass(c.toggleClassName),d.toggleClass(c.toggleClassName)),c.toggleClassSlide&&e().slideToggle("fast"),c.toggleClassTargetBackdrop&&f()&&$(c.toggleClassTargetBackdrop).toggleClass(f())}}}}]);